(globalThis.webpackChunksen_farming=globalThis.webpackChunksen_farming||[]).push([[796],{14631:(e,t,s)=>{"use strict";s.r(t),s.d(t,{Page:()=>zt,Widget:()=>Ft,widgetConfig:()=>It});var r=s(55754),n=s(98846),a=s(45055),o=s(99019),i=s(92950);const l={"logo-telegram":s.p+"static/media/icon-telegram.2450489f40d03000fe65fc1c6f238d85.svg"};var c=s(45263);const d=(0,i.forwardRef)((({name:e,className:t,...s},r)=>{const n=t?"anticon "+t:"anticon";return(0,c.jsx)("span",{className:n,...s,children:l[e]?(0,c.jsx)("ion-icon",{ref:r,src:l[e]}):(0,c.jsx)("ion-icon",{ref:r,name:e})})}));var u=s(63805);const h={appId:"sen_farming",url:"https://descartesnetwork.github.io/sen-farming/index.js",senhub:"senhub@https://descartesnetwork.github.io/senhub/index.js"},p={development:{...h},staging:{...h},production:{...h}};var f=s(95418);const m={devnet:{node:"https://api.devnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",farmingAddress:"CpEsjrLhBkcuApn5uEE2tZCwxyCQKmT6S4YgT9zuLW2J",get farming(){return new f.Farming(this.farmingAddress,this.spltAddress,this.splataAddress,this.node)},senOwners:["GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54"]},testnet:{node:"https://api.testnet.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",senAddress:"5YwUkPdXLoujGkZuo9B4LsLKj3hdkDcfP4derpspifSJ",farmingAddress:"CpEsjrLhBkcuApn5uEE2tZCwxyCQKmT6S4YgT9zuLW2J",get farming(){return new f.Farming(this.farmingAddress,this.spltAddress,this.splataAddress,this.node)},senOwners:["GJLqpmDxxrV9xruee2vFvEoTho7VVQHRtuHH8nfoAE54"]},mainnet:{node:"https://api.mainnet-beta.solana.com",spltAddress:"TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA",splataAddress:"ATokenGPvbdGVxr1b2hvZbsiqW5xWH25efTNsLJA8knL",senAddress:"SENBBKVCM7homnf5RX9zqpf1GFe935hnbU4uVzY1Y6M",farmingAddress:"DTvdh6Q13SfYxMoWyibBUmQAUqd2pDPSpjdku5a9NLSF",get farming(){return new f.Farming(this.farmingAddress,this.spltAddress,this.splataAddress,this.node)},senOwners:["Cs6jYywHTAgdvjxn8xG4VkJJH8DXXy7zbtatzMUWoCMG"]}},y={development:{farmRoute:"/app/senhub"},staging:{farmRoute:"/app/sen_farming"},production:{farmRoute:"/app/sen_farming"}},x={manifest:p[u.OB],sol:m[u.ef],route:y[u.OB]};var j=s(34559);const g={address:"",icon:"",name:"TOKEN",price:0,priceChange:0,rank:0,symbol:"TOKEN",totalVolume:0},b=e=>{const[t,s]=(0,i.useState)(g),{tokenProvider:r}=(0,n.useMint)(),a=(0,i.useCallback)((async()=>{try{var t;const n=await r.findByAddress(e),a=null===n||void 0===n||null===(t=n.extensions)||void 0===t?void 0:t.coingeckoId,o=await(0,j.l$)(a);return s(o)}catch(n){return s(g)}}),[e,r]);return(0,i.useEffect)((()=>{a()}),[a]),t},v=e=>{const{tokenProvider:t}=(0,n.useMint)(),{pools:s}=(0,n.usePool)(),[r,a]=(0,i.useState)([]),o=(0,i.useCallback)((async()=>{const r=await t.findByAddress(e);if(r)return a([r]);const n=Object.values(s).find((({mint_lpt:t})=>t===e));if(!n)return a([void 0]);const{mint_a:o,mint_b:i}=n,l=await t.findByAddress(o),c=await t.findByAddress(i);return a([l,c])}),[e,s,t]);return(0,i.useEffect)((()=>{o()}),[o]),r},w=({mintAddress:e,size:t=24,icon:s=(0,c.jsx)(d,{name:"diamond-outline"}),isReserve:r=!1})=>{const n=v(e),a=(0,i.useMemo)((()=>{const e=JSON.parse(JSON.stringify(n));return r?e.reverse():e}),[r,n]);return(0,c.jsx)(o.Avatar.Group,{style:{display:"block",whiteSpace:"nowrap"},children:a.map(((e,r)=>(0,c.jsx)(o.Avatar,{src:null===e||void 0===e?void 0:e.logoURI,size:t,style:{backgroundColor:"#2D3355",border:"none"},children:s},(null===e||void 0===e?void 0:e.address)||r)))})},C=({mintAddress:e,separator:t=" \u2022 ",isReverse:s=!1})=>{const r=v(e),n=(0,i.useMemo)((()=>{let n=r.map((t=>{if(!t)return(0,j.Xn)(e);const{name:s,address:n,symbol:a}=t;return 1===r.length&&s?s:a||(0,j.Xn)(n)}));return s&&n.reverse(),n.join(t),1===r.length?n:`${n} LPT`}),[s,e,t,r]);return(0,c.jsx)("span",{children:n})},S=({mintAddress:e,separator:t=" \u2022 ",isReverse:s=!1})=>{const r=v(e),n=(0,i.useMemo)((()=>{const n=r.map((t=>{const s=`${null===e||void 0===e?void 0:e.substr(0,3)}...`;return t?t.symbol:s}));return s&&n.reverse(),n.join(t)}),[s,e,t,r]);return(0,c.jsx)("span",{children:n})},T=()=>{const{tokenProvider:e,getMint:t}=(0,n.useMint)(),{pools:s}=(0,n.usePool)(),r=(0,i.useCallback)((async(t,s)=>{try{var r;const n=await e.findByAddress(t),a=null===n||void 0===n||null===(r=n.extensions)||void 0===r?void 0:r.coingeckoId;if(!a)throw new Error("Cant not find coingeckoId");const o=await(0,j.l$)(a);return Number(f.utils.undecimalize(s,n.decimals))*o.price}catch(n){return 0}}),[e]),a=(0,i.useCallback)((async({mintAddress:n,amount:o})=>{if(await e.findByAddress(n))return r(n,o);const i=Object.values(s).find((e=>e.mint_lpt===n));if(!i)return 0;const{reserve_a:l,reserve_b:c,mint_a:d,mint_b:u}=i;if(l*c===BigInt(0))return 0;const{[n]:{supply:h}}=await t({address:n}),{deltaA:p,deltaB:m}=f.Swap.oracle.withdraw(o,h,l,c);return await a({mintAddress:d,amount:p})+await a({mintAddress:u,amount:m})}),[t,r,e,s]);return{getTotalValue:a}},{sol:{senOwners:k}}=x,A=()=>{const e=(0,r.useSelector)((e=>e.farms)),[t,s]=(0,i.useState)({}),n=(0,i.useCallback)((t=>{const s=e[t];return k.includes(s.owner)}),[e]),a=(0,i.useCallback)((e=>{const t={};for(const s in e)n(s)&&(t[s]=e[s]);s(t)}),[n]);return(0,i.useEffect)((()=>{a(e)}),[e,a]),{sentreFarms:t,filterSentreFarms:a,checkSentreFarm:n}},{sol:{senAddress:R}}=x,E=()=>{const{ui:{width:e}}=(0,n.useUI)(),t=(0,r.useSelector)((e=>e.farms)),s=b(R),a=(()=>{const[e,t]=(0,i.useState)(0),{sentreFarms:s}=A(),{getTotalValue:r}=T(),n=(0,i.useCallback)((async()=>{let e=0;await Promise.all(Object.values(s).map((async t=>{const{total_shares:s,mint_stake:n}=t,a=await r({mintAddress:n,amount:s});e+=a}))),t(e)}),[s,r]);return(0,i.useEffect)((()=>{n()}),[n]),e})(),l=e>768,u=l?void 0:24,h=l?32:16,p=l?8:4,f=l?"vertical":"horizontal",m=l?"pause-outline":"reorder-two-outline",y=(0,i.useMemo)((()=>{let e=0;for(const s in t)t[s].total_shares&&e++;return e}),[t]);return(0,c.jsx)(o.Card,{bordered:!1,className:(l?"":"banner-farming-mobile ")+"banner-farming",children:(0,c.jsxs)(o.Row,{gutter:[12,h],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:4,style:{color:"#212433"},children:"Sen Farming"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[12,12],children:[(0,c.jsx)(o.Col,{span:u,children:(0,c.jsxs)(o.Space,{direction:"vertical",size:p,children:[(0,c.jsx)(o.Typography.Text,{style:{color:"#212433"},children:"Total Sentre Farms TVL"}),(0,c.jsx)(o.Typography.Title,{level:2,style:{color:"#F9575E"},children:(0,j.uR)(a).format("0,0.[00]$")})]})}),l&&(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Divider,{type:"vertical",style:{height:"100%"}})}),(0,c.jsx)(o.Col,{span:u,children:(0,c.jsxs)(o.Space,{direction:"vertical",size:p,children:[(0,c.jsx)(o.Typography.Text,{style:{color:"#212433"},children:"Active Farms"}),(0,c.jsx)(o.Typography.Title,{level:2,style:{color:"#F9575E"},children:y})]})}),l&&(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Divider,{type:"vertical",style:{height:"100%"}})}),(0,c.jsx)(o.Col,{span:u,children:(0,c.jsxs)(o.Space,{direction:f,size:0,align:"center",children:[(0,c.jsxs)(o.Typography.Title,{level:4,style:{color:"#212433"},children:["1 ",(0,c.jsx)(S,{mintAddress:R})]}),(0,c.jsx)(d,{style:{color:"#212433"},name:m}),(0,c.jsx)(o.Typography.Title,{level:4,style:{color:"#F9575E"},children:(0,j.uR)(s.price).format("0,0.[0000]$")})]})})]})})]})})};var O=s(44891);let P;const _=(0,i.forwardRef)((({max:e,onValue:t=(()=>{}),onChange:s=(()=>{}),...r},n)=>{var a;const[l,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(null),f=(0,i.useRef)(n),m=(0,i.useCallback)((s=>{const r=e=>{P&&(clearTimeout(P),P=void 0),u(e),P=setTimeout((()=>u("")),500)};return/^\d*(\.\d*)?$/.test(s)?e&&parseFloat(s)>parseFloat(e.toString())?r("Not enough balance"):t(s):r("Invalid character")}),[e,t]);return null!==h&&(null===f||void 0===f||null===(a=f.current)||void 0===a||a.setSelectionRange(h,h)),(0,c.jsx)(o.Tooltip,{title:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(d,{name:"warning"}),l]}),visible:!!l,children:(0,c.jsx)(o.Input,{...r,onChange:e=>{s(e),p(e.target.selectionStart),m(e.target.value||"")},ref:f})})})),z=(e,t)=>window.notify({type:"success",description:`${e} successfully. Click to view details.`,onClick:()=>window.open((0,j.kU)(t),"_blank")}),I=e=>window.notify({type:"error",description:e.message}),F=e=>{const[t,s]=(0,i.useState)(void 0),{getDecimals:r}=(0,n.useMint)(),a=(0,i.useCallback)((async()=>{try{const t=await r(e);return s(t)}catch(t){return s(void 0)}}),[e,r]);return(0,i.useEffect)((()=>{a()}),[a]),t},B={Hour:BigInt(3600),Day:BigInt(86400),Month:BigInt(2592e3),Year:BigInt(31536e3)},M=({mintAddress:e,onClose:t=(()=>{}),setVisibleInputTokenModal:s=(()=>{})})=>{const{sol:{senAddress:r,farming:a}}=x,[l,u]=(0,i.useState)(""),[h,p]=(0,i.useState)(""),[m,y]=(0,i.useState)("Hour"),[j,g]=(0,i.useState)(!1),b=F(r),{wallet:{address:v}}=(0,n.useWallet)(),C=!l||!h||!f.account.isAddress(e);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:4,children:"New farm"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{style:{borderRadius:8},bodyStyle:{padding:16},bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:12,children:(0,c.jsxs)(o.Space,{direction:"vertical",children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Input"}),(0,c.jsxs)(o.Space,{size:12,style:{cursor:"pointer"},onClick:()=>s(!0),children:[(0,c.jsx)(w,{mintAddress:e}),f.account.isAddress(e)?(0,c.jsx)(S,{mintAddress:e}):(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Select token type"}),(0,c.jsx)(d,{name:"chevron-forward-outline",style:{color:"#7A7B85"}})]})]})}),(0,c.jsx)(o.Col,{span:12,children:(0,c.jsxs)(o.Space,{direction:"vertical",children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Output"}),(0,c.jsxs)(o.Space,{size:12,style:{cursor:"pointer"},children:[(0,c.jsx)(w,{mintAddress:r}),(0,c.jsx)(S,{mintAddress:r})]})]})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{type:"secondary",className:"caption",children:"Reward"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_,{size:"large",placeholder:"0",value:l,onValue:u,prefix:(0,c.jsx)(o.Typography.Text,{children:"SNTR"})})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Typography.Text,{type:"secondary",className:"caption",children:["Number of ",m]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_,{size:"large",placeholder:"0",value:h,onValue:p,suffix:(0,c.jsx)(o.Button,{type:"text",size:"small",icon:(0,c.jsx)(d,{name:"time-outline"}),onClick:()=>{const e=Object.keys(B),t=(e.findIndex((e=>e===m))+1)%e.length;return y(e[t])},children:m})})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",onClick:async()=>{if(!f.account.isAddress(e))return I({message:`Invalid mint address: ${e}`});g(!0);const{wallet:s}=window.sentre;if(!s||!m||!h||!b)return;const n=f.utils.decimalize(l,b),o=Number(null===B||void 0===B?void 0:B[m])*Number(h);try{const{txId:i}=await a.initializeFarm(n,BigInt(o),v,e,r,s);return t(),z("Create a new farm",i)}catch(i){return I({message:i.message})}finally{return g(!1)}},disabled:C,block:!0,loading:j,children:"Confirm"})})]})},N=({accountAddress:e,onClick:t=(()=>{})})=>{const{accounts:{[e]:{mint:s}}}=(0,n.useAccount)(),r=(0,i.useMemo)((()=>e.substring(0,4)+" ... "+e.substring(e.length-4,e.length)),[e]);return(0,c.jsx)(o.Card,{onClick:()=>t(s),className:"account-card",bodyStyle:{padding:12,cursor:"pointer"},bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[8,8],wrap:!1,align:"middle",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{direction:"vertical",size:0,children:[(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(w,{mintAddress:s}),(0,c.jsx)(C,{mintAddress:s})]}),(0,c.jsxs)(o.Space,{children:[(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",style:{fontSize:12},children:"Account Address:"}),(0,c.jsx)(o.Typography.Text,{children:r})]}),(0,c.jsx)(o.Button,{type:"text",size:"small",onClick:t=>{t.stopPropagation(),(0,j.RB)((0,j.kU)(e))},icon:(0,c.jsx)(d,{name:"open-outline"})})]})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Button,{type:"text",icon:(0,c.jsx)(d,{name:"arrow-forward-outline"})})})]})})},D=({onChange:e})=>{const[t,s]=(0,i.useState)("");return(0,i.useEffect)((()=>e(t)),[t,e]),(0,c.jsx)(o.Card,{className:"account-card",bodyStyle:{padding:6},bordered:!1,children:(0,c.jsx)(o.Input,{placeholder:"Search",value:t,size:"small",bordered:!1,prefix:(0,c.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",onClick:t?()=>s(""):()=>{},icon:(0,c.jsx)(d,{name:t?"close-outline":"search-outline"})}),onChange:e=>s(e.target.value)})})},L=({onChange:e,onHideInputTokenModal:t=(()=>{})})=>{const{searchedAccount:s,accountAddresses:r,onSearch:a}=(()=>{const[e,t]=(0,i.useState)(),{accounts:s}=(0,n.useAccount)(),{tokenProvider:r}=(0,n.useMint)(),a=(0,i.useMemo)((()=>Object.keys(s)),[s]),o=(0,i.useCallback)((async e=>{if(!e||e.length<3)return t(void 0);const n=(await r.find(e)).map((({address:e})=>e));let o=[];return a.forEach((e=>{var t;if(n.includes(null===(t=s[e])||void 0===t?void 0:t.mint))return o.push(e)})),t(o)}),[a,s,r]);return{searchedAccount:e,accountAddresses:a,onSearch:o}})(),l=s=>(t(!1),e(s));return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Title,{level:4,children:"Select token type"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(D,{onChange:a})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Row,{gutter:[16,16],style:{height:300,overflow:"auto"},children:(s||r).map(((e,t)=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:72,overflow:!0,children:(0,c.jsx)(N,{accountAddress:e,onClick:l})})},e+t)))})})]})},W=({size:e="small"})=>{const[t,s]=(0,i.useState)(!1),[r,n]=(0,i.useState)(""),[a,l]=(0,i.useState)(!1);return(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{style:{background:"transparent"},onClick:()=>s(!0),size:e,children:"New Farm"})}),(0,c.jsx)(o.Modal,{visible:t,onCancel:()=>s(!1),footer:!1,closeIcon:(0,c.jsx)(d,{name:"close-outline"}),children:(0,c.jsx)(M,{mintAddress:r,onClose:()=>{s(!1),n("")},setVisibleInputTokenModal:l})}),(0,c.jsx)(o.Modal,{visible:a,onCancel:()=>l(!1),footer:!1,closeIcon:(0,c.jsx)(d,{name:"close-outline"}),children:(0,c.jsx)(L,{onChange:e=>{n(e)},onHideInputTokenModal:l})})]})},U=({label:e="",tooltip:t,value:s="",mintAddress:r})=>(0,c.jsxs)(o.Space,{direction:"vertical",size:4,children:[(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsxs)(o.Space,{size:4,children:[r&&(0,c.jsx)(w,{mintAddress:r}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:e})]}),t&&(0,c.jsx)(o.Tooltip,{title:t,children:(0,c.jsx)(o.Button,{type:"text",shape:"circle",size:"small",icon:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:(0,c.jsx)(d,{name:"information-circle-outline"})})})})]}),(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Typography.Title,{level:5,children:s}),r&&(0,c.jsx)(S,{mintAddress:r})]})]}),{sol:{farming:V}}=x,H=e=>{const[t,s]=(0,i.useState)(""),{debts:{[t]:a}}=(0,r.useSelector)((e=>e)),{wallet:{address:o}}=(0,n.useWallet)(),l=(0,i.useCallback)((async()=>{if(!f.account.isAddress(e))return s("");const t=await V.deriveDebtAddress(o,e);return s(t)}),[e,o]);return(0,i.useEffect)((()=>{l()}),[l]),{address:t,data:a}};var $=s(21111),Q=s.n($);const q=e=>{const{accounts:t}=(0,n.useAccount)(),{wallet:{address:s}}=(0,n.useWallet)(),a=(0,r.useSelector)((t=>t.farms[e])),[o,l]=(0,i.useState)(),c=(0,i.useCallback)((async()=>{if(!(null===a||void 0===a?void 0:a.mint_stake))return l(void 0);const{splt:e}=window.sentre,r=await e.deriveAssociatedAddress(s,a.mint_stake),n=t[r];return Q()(n,null===o||void 0===o?void 0:o.data)?void 0:l({address:r,data:n})}),[null===o||void 0===o?void 0:o.data,t,a.mint_stake,s]);return(0,i.useEffect)((()=>{c()}),[c]),o},Y=(e,t)=>{if(null===e||0===Object.keys(e).length)return 0;if(null===t||0===Object.keys(t).length)return 0;if(!t.total_shares)return 0;const r=e.shares,n=t.compensation,a=(s.g.BigInt(Math.floor(Date.now()/1e3))-t.genesis_timestamp)/t.period,o=s.g.BigInt(10**18),i=(o*t.reward/t.total_shares*a+n)*r/o,l=f.utils.undecimalize(i-e.debt,9);return Number(l)},G="The treasury doesn't have enough balance for the claim.",J="Invalid wallet address.",Z="Invalid farm address.",X="Invalid debt address.",K="Cannot fetch data of debts";var ee=s(19289),te=s(85912);const{sol:{farming:se,senAddress:re}}=x,ne="farms",ae=(0,ee.createAsyncThunk)("farms/getFarms",(async(e,{getState:t})=>{const{farms:s}=t();if(Object.keys(s).length)return s;const r=await se.connection.getProgramAccounts(se.farmingProgramId,{filters:[{dataSize:209},{memcmp:{bytes:re,offset:97}}]});let n={};return r.forEach((({pubkey:e,account:{data:t}})=>{const s=e.toBase58(),r=se.parseFarmData(t);n[s]=r})),n})),oe=(0,ee.createAsyncThunk)("farms/getFarm",(async({address:e},{getState:t})=>{if(!f.account.isAddress(e))throw new Error("Invalid farm address");const{farms:{[e]:s}}=t();if(s)return{[e]:s};return{[e]:await se.getFarmData(e)}})),ie=(0,ee.createAsyncThunk)("farms/upsetFarm",(async({address:e,data:t})=>{if(!f.account.isAddress(e))throw new Error("Invalid farm address");if(!t)throw new Error("Data is empty");return{[e]:t}})),le=(0,ee.createAsyncThunk)("farms/deleteFarm",(async({farmAddress:e})=>{if(!f.account.isAddress(e))throw new Error("Invalid address");return{farmAddress:e}})),ce=(0,ee.createSlice)({name:ne,initialState:{},reducers:{},extraReducers:e=>{e.addCase(ae.fulfilled,((e,{payload:t})=>{Object.assign(e,t)})).addCase(oe.fulfilled,((e,{payload:t})=>{Object.assign(e,t)})).addCase(ie.fulfilled,((e,{payload:t})=>{Object.assign(e,t)})).addCase(le.fulfilled,((e,{payload:t})=>{delete e[t.farmAddress]}))}}).reducer,{sol:{farming:de}}=x,ue="debts",he=(0,ee.createAsyncThunk)("debts/getDebts",(async({owner:e})=>{if(!f.account.isAddress(e))throw new Error("Invalid owner/wallet address");const t=await de.connection.getProgramAccounts(de.farmingProgramId,{filters:[{dataSize:89},{memcmp:{bytes:e,offset:32}}]});let s={};return t.forEach((({pubkey:e,account:{data:t}})=>{const r=e.toBase58(),n=de.parseDebtData(t);return s[r]=n})),s})),pe=(0,ee.createAsyncThunk)("debts/getDebt",(async({address:e},{getState:t})=>{const{debts:{[e]:s}}=t();if(s)return{[e]:s};return{[e]:await de.getDebtData(e)}})),fe=(0,ee.createAsyncThunk)("debts/upsetDebt",(async({address:e,data:t})=>{if(!f.account.isAddress(e))throw new Error("Invalid address");if(!t)throw new Error("Data is empty");return{[e]:t}})),me=(0,ee.createAsyncThunk)("debts/deleteDebt",(async({address:e})=>{if(!f.account.isAddress(e))throw new Error("Invalid address");return{address:e}})),ye=(0,ee.createSlice)({name:ue,initialState:{},reducers:{},extraReducers:e=>{e.addCase(he.fulfilled,((e,{payload:t})=>t)).addCase(pe.fulfilled,((e,{payload:t})=>{Object.assign(e,t)})).addCase(fe.fulfilled,((e,{payload:t})=>{Object.assign(e,t)})).addCase(me.fulfilled,((e,{payload:t})=>{delete e[t.address]}))}}).reducer,xe="main",je=(0,ee.createAsyncThunk)("main/setSearch",(async({search:e},{getState:t})=>({search:e}))),ge=(0,ee.createSlice)({name:xe,initialState:{search:""},reducers:{},extraReducers:e=>{e.addCase(je.fulfilled,((e,{payload:t})=>{Object.assign(e,t)}))}}).reducer,be=(0,ee.configureStore)({middleware:e=>e(te.h),devTools:(0,te.$)("sen_farming"),reducer:{farms:ce,debts:ye,main:ge}}),{sol:{farming:ve}}=x;class we{async checkSeedBalance(e){const{splt:t,wallet:s}=window.sentre;if(!s)throw new Error("Please connect wallet first!");const r=be.getState().farms[e],n=await s.getAddress();if(!f.account.isAddress(n))throw new Error(J);const a=await ve.deriveDebtAddress(n,e);if(!f.account.isAddress(a))throw new Error(X);const o=be.getState().debts[a];if(!o)throw new Error(K);const i=Y(o,r),{treasury_reward:l,treasury_stake:c,total_shares:d}=r;let{amount:u}=await t.getAccountData(l);l===c&&(u-=d);if(Number(f.utils.undecimalize(u,9))<i)throw new Error(G)}async validate(e){if(!f.account.isAddress(e))throw new Error(Z);return await this.checkSeedBalance(e)}}const{sol:{senAddress:Ce,farming:Se}}=x,Te=({farmAddress:e,onClose:t})=>{const s=(0,r.useSelector)((t=>{var s;return null===(s=t.farms)||void 0===s?void 0:s[e]})),{wallet:{address:a}}=(0,n.useWallet)(),{data:l}=H(e),u=q(e),[h,p]=(0,i.useState)(),[m,y]=(0,i.useState)(!0),[x,g]=(0,i.useState)(!1),b=F(s.mint_stake),v=(0,i.useCallback)((async e=>(await p(e),e?await y(!1):await y(!0))),[]),w=(0,i.useMemo)((()=>{if(b)return f.utils.undecimalize(null===l||void 0===l?void 0:l.shares,b)}),[null===l||void 0===l?void 0:l.shares,b]);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"start",children:[(0,c.jsx)(d,{name:"alert-circle-outline"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"The pending reward will be automatically harvested when you unstake."})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:12},style:{boxShadow:"none",borderRadius:8},children:(0,c.jsxs)(o.Space,{style:{width:"100%"},direction:"vertical",children:[(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Amount"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:6,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Available:"}),(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(w).format("0,0.[00]")}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"LPT"})]})})]}),(0,c.jsx)(_,{placeholder:"0",value:h,onValue:v,bordered:!1,size:"large",style:{padding:0},suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-7},onClick:()=>v(w),children:"MAX"}),max:w})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"remove-outline"}),onClick:async()=>{g(!0);try{const{splt:s,wallet:r}=window.sentre;if(!r)throw Error("Please connect wallet first");if(!h||!u||!b)return;const n=f.utils.decimalize(h,b),o=await s.deriveAssociatedAddress(a,Ce),i=new we;await i.validate(e);const{txId:l}=await Se.unstake(n,u.address,o,e,r);return t(!1),z("Unstaked",l)}catch(s){return I(s)}finally{g(!1)}},block:!0,disabled:m,loading:x,children:"Unstake"})})]})},{sol:{senAddress:ke,farming:Ae}}=x,Re=({farmAddress:e,onClose:t})=>{const s=(0,r.useSelector)((t=>{var s;return null===(s=t.farms)||void 0===s?void 0:s[e]})),{wallet:{address:a}}=(0,n.useWallet)(),{accounts:l}=(0,n.useAccount)(),{data:u}=H(e),h=q(e),[p,m]=(0,i.useState)(),[y,x]=(0,i.useState)(!0),[g,b]=(0,i.useState)(!1),v=F(s.mint_stake),w=(0,i.useCallback)((async e=>(await m(e),e?await x(!1):await x(!0))),[]),C=(0,i.useMemo)((()=>{if(v)return f.utils.undecimalize(BigInt((null===h||void 0===h?void 0:h.data.amount)||0),v)}),[null===h||void 0===h?void 0:h.data.amount,v]);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"start",children:[(0,c.jsx)(d,{name:"alert-circle-outline"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"The pending reward will be automatically harvested when you stake more."})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:12},style:{boxShadow:"none",borderRadius:8},children:(0,c.jsxs)(o.Space,{style:{width:"100%"},direction:"vertical",children:[(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Amount"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:6,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Available:"}),(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(C).format("0,0.[00]")}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"LPT"})]})})]}),(0,c.jsx)(_,{placeholder:"0",value:p,onValue:w,bordered:!1,size:"large",style:{padding:0},suffix:(0,c.jsx)(o.Button,{type:"text",style:{marginRight:-15},onClick:()=>w(C),children:"MAX"}),max:C})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"add-outline"}),onClick:async()=>{b(!0);try{const{splt:s,wallet:r}=window.sentre;if(!r)throw Error("Please connect wallet first");if(!p||!h||!v)return;const n=await s.deriveAssociatedAddress(a,ke);void 0===(null===u||void 0===u?void 0:u.shares)&&await Ae.initializeAccounts(e,a,r),l[n]||await s.initializeAccount(ke,a,r);const o=new we;await o.validate(e);const{txId:i}=await Ae.stake(f.utils.decimalize(p,v),h.address,n,e,r);return t(!1),z("Staked",i)}catch(s){return I(s)}finally{b(!1)}},block:!0,disabled:y,loading:g,children:"Stake"})})]})},Ee=({title:e})=>(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(d,{style:{fontSize:18},name:"alert-circle-outline"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",ellipsis:!0,children:e})]});var Oe=s(51518),Pe=s.n(Oe);const _e=({address:e,onCopy:t,copieAddress:s,description:r=!1,title:n})=>(0,c.jsxs)(o.Row,{gutter:[0,8],children:[(0,c.jsx)(o.Col,{xs:{span:24},sm:{span:10},md:{span:10},lg:{span:10},flex:"auto",children:(0,c.jsx)(Ee,{title:n})}),(0,c.jsx)(o.Col,{xs:{span:22},sm:{span:14},md:{span:14},lg:{span:14},flex:"auto",children:f.account.isAddress(e)&&(0,c.jsx)(o.Typography.Text,{children:e})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Tooltip,{title:"Copied",visible:e===s,children:(0,c.jsx)(Oe.CopyToClipboard,{text:e,onCopy:e=>t(e),children:(0,c.jsx)(o.Button,{type:"text",size:"small",style:{marginRight:-7},icon:(0,c.jsx)(d,{name:"copy-outline"})})})})}),r?(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Paragraph,{type:"secondary",style:{fontSize:12},children:"Tips: You can use this address for searching the pool coresponding to the farm in Sen LP."})}):null]}),ze=e=>{const[t,s]=(0,i.useState)(0),{farms:{[e]:n}}=(0,r.useSelector)((e=>e)),{treasury_stake:a,treasury_reward:o,mint_reward:l,total_shares:c}=n||{},d=F(l),{symbol:u}=b(l),h=(0,i.useCallback)((async()=>{if(void 0===d)return s(0);try{const{splt:e}=window.sentre;let{amount:t}=await e.getAccountData(o);o===a&&(t-=c);const r=Number(f.utils.undecimalize(t,d));s(r)}catch(e){s(0)}}),[d,c,o,a]);return(0,i.useEffect)((()=>{h()}),[h]),{budget:t,budgetSymbol:u}},Ie=({farmAddress:e})=>{const{tokenProvider:t}=(0,n.useMint)(),{pools:s}=(0,n.usePool)(),{budget:a,budgetSymbol:l}=ze(e),d=(0,r.useSelector)((e=>e.farms)),[u,h]=(0,i.useState)(""),[p,m]=(0,i.useState)(""),{mint_stake:y,period:x,reward:g,mint_reward:b}=d[e]||{},v=F(y);(0,i.useEffect)((()=>{(async()=>{const{symbol:e}=await t.findByAddress(b)||{};m(e||"TOKEN")})()}),[b,t]);const w=Object.keys(s).find((e=>{const{mint_lpt:t}=s[e];return t===y})),C=async e=>{e&&(await h(e),await(0,j.sA)(1500),await h(""))},S=(0,i.useMemo)((()=>v?f.utils.undecimalize(g,v):0),[v,g]),T=(0,i.useMemo)((()=>{let e=Number(x)/86400,t="days";return e>29&&(e/=30,t=e>1?"months":"month"),e<2&&(e*=24,t=e>1?"hours":"hour"),`${S} ${l} / ${Math.floor(e)} ${t}`}),[S,x,l]);return(0,c.jsxs)(o.Row,{gutter:[24,24],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_e,{title:"Farming address:",address:e,onCopy:e=>C(e),copieAddress:u})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_e,{title:w?"Pool address:":"Stake mint address:",address:w||y,onCopy:e=>C(e),copieAddress:u,description:!0})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"baseline",children:[(0,c.jsx)(Ee,{title:"Rewarding:"}),(0,c.jsx)(o.Typography.Text,{style:{wordBreak:"break-all"},children:T})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"baseline",children:[(0,c.jsx)(Ee,{title:"Budget:"}),(0,c.jsx)(o.Typography.Text,{style:{wordBreak:"break-all"},children:(0,j.uR)(a).format("0,0.[00]")}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:p})]})})]})},{sol:{senAddress:Fe,farming:Be}}=x,Me=({farmAddress:e,onChange:t=(()=>{})})=>{const{accounts:s}=(0,n.useAccount)(),{wallet:{address:a}}=(0,n.useWallet)(),l=(0,r.useSelector)((e=>e.farms)),[u,h]=(0,i.useState)(""),[p,m]=(0,i.useState)("0"),[y,x]=(0,i.useState)(!1),{mint_reward:g}=(null===l||void 0===l?void 0:l[e])||{},b=F(g);(0,i.useEffect)((()=>{(async()=>{if(b)try{const{splt:e}=window.sentre,t=await e.deriveAssociatedAddress(a,g),{amount:r}=s[t]||{};m(r?f.utils.undecimalize(r,b):"0")}catch(e){m("0")}})()}),[a,s,g,b]);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{style:{boxShadow:"unset",borderRadius:8},bodyStyle:{padding:8},children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[0,0],wrap:!1,style:{margin:"6px 12px 0px 12px",fontSize:12},children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Amount"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:6,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Available:"}),(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(p).format("0,0.[00]")}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"SNTR"})]})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_,{placeholder:"0",value:u,onValue:h,suffix:(0,c.jsx)(o.Button,{type:"text",onClick:()=>h(p),size:"small",style:{marginRight:-7},children:"MAX"}),bordered:!1,max:p})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"add-outline"}),onClick:async()=>{x(!0);const{wallet:s,splt:r}=window.sentre;if(!s)return;const n=await r.deriveAssociatedAddress(a,Fe),o=f.utils.decimalize(u,9);try{const{txId:r}=await Be.seed(o,e,n,s);return t(r),z("Seed",r)}catch(i){return I(i)}finally{x(!1)}},block:!0,disabled:!u,loading:y,children:"Seed"})})]})},{sol:{farming:Ne}}=x,De=({farmAddress:e,onChange:t=(()=>{})})=>{const{wallet:{address:s}}=(0,n.useWallet)(),a=(0,r.useSelector)((e=>e.farms)),[l,u]=(0,i.useState)(""),[h,p]=(0,i.useState)("0"),[m,y]=(0,i.useState)(!1),{treasury_reward:x,mint_reward:g}=a[e]||{},v=F(g),{symbol:w}=b(g);(0,i.useEffect)((()=>{(async()=>{if(v)try{const{splt:e}=window.sentre,{amount:t}=await e.getAccountData(x);p(t?f.utils.undecimalize(t,v):"0")}catch(e){p("0")}})()}),[v,x]);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{style:{boxShadow:"unset",borderRadius:8},bodyStyle:{padding:8},children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[0,0],wrap:!1,style:{margin:"6px 12px 0px 12px",fontSize:12},children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Amount"})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:6,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Available:"}),(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(h).format("0,0.[00]")}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:w})]})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_,{placeholder:"0",value:l,onValue:u,suffix:(0,c.jsx)(o.Button,{type:"text",onClick:()=>u(h),size:"small",style:{marginRight:-7},children:"MAX"}),bordered:!1,max:h})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"remove-outline"}),onClick:async()=>{y(!0);const{wallet:r,splt:n}=window.sentre;if(!r||!v)return;const a=await n.deriveAssociatedAddress(s,g),o=f.utils.decimalize(l,v);try{const{txId:s}=await Ne.unseed(o,e,a,r);return t(s),z("Unseed",s)}catch(i){return I(i)}finally{y(!1)}},block:!0,disabled:!l,loading:m,children:"Unseed"})})]})};let Le,We;!function(e){e[e.POLICY_AGREEMENT=0]="POLICY_AGREEMENT",e[e.FARM_CREATING_CONFIRMATION=1]="FARM_CREATING_CONFIRMATION"}(Le||(Le={})),function(e){e[e.isActive=1]="isActive",e[e.isFreeze=2]="isFreeze"}(We||(We={}));const{sol:{farming:Ue}}=x,Ve=({farmAddress:e,onChange:t=(()=>{})})=>{const s=(0,r.useSelector)((e=>e.farms)),[n,a]=(0,i.useState)(!1),{state:l}=(null===s||void 0===s?void 0:s[e])||{},u=l===We.isActive,h=u?{backgroundColor:"#40A9FF",color:"#fff"}:{},p=u?"snow-outline":"sunny-outline",f=u?"Freeze":"Thaw";return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{className:"caption",align:"start",children:[(0,c.jsx)(d,{name:"information-circle-outline"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:'Freezing a farm will prevent all actions, but "seed" and "unseed", until the farm has been thawed.'})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",style:{...h,border:"unset"},icon:(0,c.jsx)(d,{name:p}),onClick:u?async()=>{const{wallet:s}=window.sentre;if(s){a(!0);try{const{txId:r}=await Ue.freeze(e,s);return t(r),z("Freeze the farm",r)}catch(r){return I(r)}finally{a(!1)}}}:async()=>{const{wallet:s}=window.sentre;if(s){a(!0);try{const{txId:r}=await Ue.thaw(e,s);return t(r),z("Thaw the farm",r)}catch(r){return I(r)}finally{a(!1)}}},block:!0,disabled:!l,loading:n,children:f})})]})},{sol:{farming:He}}=x,$e=({farmAddress:e,onChange:t=(()=>{})})=>{const s=(0,r.useSelector)((e=>e.farms)),[n,a]=(0,i.useState)(!1),{total_shares:l}=(null===s||void 0===s?void 0:s[e])||{},u=(0,r.useDispatch)();return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{className:"caption",children:[(0,c.jsx)(d,{name:"information-circle-outline"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"The farm can be closed only all farmers unstaked their tokens!"})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"trash-outline"}),onClick:async()=>{const{wallet:s}=window.sentre;if(s){a(!0);try{const{txId:r}=await He.closeFarm(e,s);return t(r),u(le({farmAddress:e})),z("Close the farm",r)}catch(r){return I(r)}finally{a(!1)}}},block:!0,disabled:!!l,loading:n,children:"Close Farm"})})]})},Qe=({label:e="",title:t=""})=>(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:e})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Text,{children:t})})]}),qe=({farmAddress:e})=>{const t=(0,r.useSelector)((t=>{var s;return null===(s=t.farms)||void 0===s?void 0:s[e]})),[s,n]=(0,i.useState)(!1),[a,l]=(0,i.useState)(!1),{budget:u,budgetSymbol:h}=ze(e),{mint_stake:p,period:m,reward:y}=t||{},x=F(p),g=(0,i.useMemo)((()=>x?f.utils.undecimalize(y,x):0),[x,y]),b=(0,i.useMemo)((()=>{let e=Number(m)/86400,t="days";return e>29&&(e/=30,t=e>1?"months":"month"),e<2&&(e*=24,t=e>1?"hours":"hour"),`${g} ${h} / ${Math.floor(e)} ${t}`}),[g,m,h]);return(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(o.Button,{onClick:()=>n(!0),children:"Manage"}),(0,c.jsx)(o.Modal,{visible:s,onCancel:()=>n(!1),closeIcon:(0,c.jsx)(d,{name:"close"}),footer:null,destroyOnClose:!0,centered:!0,children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{style:{lineHeight:1},children:[(0,c.jsx)(d,{name:"leaf"}),(0,c.jsx)(o.Typography.Title,{level:5,style:{margin:0},children:"Farm Management"})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{style:{borderRadius:8},bodyStyle:{padding:16},bordered:!1,children:(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{size:12,style:{fontWeight:600},children:[(0,c.jsx)(w,{mintAddress:p,size:32}),(0,c.jsx)(S,{mintAddress:p})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{size:2,children:[(0,c.jsx)(o.Typography.Text,{type:"secondary",style:{fontSize:12},children:(0,j.Xn)(e)}),(0,c.jsx)(o.Tooltip,{visible:a,title:"Copied",children:(0,c.jsx)(Pe(),{text:e,children:(0,c.jsx)(o.Button,{type:"text",size:"small",onClick:async()=>{l(!0),await(0,j.sA)(1500),l(!1)},icon:(0,c.jsx)(d,{name:"copy-outline"})})})}),(0,c.jsx)(o.Button,{type:"text",size:"small",onClick:()=>window.open((0,j.kU)(e),"_blank"),icon:(0,c.jsx)(d,{name:"open-outline"})})]})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Qe,{label:"Budget",title:`${u} ${h}`})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(Qe,{label:"Reward",title:b})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Tabs,{children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Seed",children:(0,c.jsx)(Me,{farmAddress:e,onChange:()=>n(!1)})},"seed"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Unseed",children:(0,c.jsx)(De,{farmAddress:e,onChange:()=>n(!1)})},"unseed"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Freeze/Thaw",children:(0,c.jsx)(Ve,{farmAddress:e,onChange:()=>n(!1)})},"freeze-thaw"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Ownership",disabled:!0,children:"TBD"},"ownership"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Close",children:(0,c.jsx)($e,{farmAddress:e,onChange:()=>n(!1)})},"close")]})})]})})]})},{sol:{senAddress:Ye,farming:Ge}}=x,Je=({farmAddress:e,onClose:t})=>{const s=(0,r.useSelector)((t=>{var s;return null===(s=t.farms)||void 0===s?void 0:s[e]})),{data:a}=H(e),{wallet:{address:l}}=(0,n.useWallet)(),[u,h]=(0,i.useState)(!1),p=f.utils.undecimalize(null===a||void 0===a?void 0:a.shares,9);return(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{align:"start",children:[(0,c.jsx)(d,{name:"alert-circle-outline"}),(0,c.jsx)(o.Typography.Text,{children:"When the reward budget is too low, you may be not able to unstake. Exiting the farm means you give up on rewards and merely get back your tokens."})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{style:{borderRadius:8,boxShadow:"unset"},bodyStyle:{padding:12},children:(0,c.jsxs)(o.Row,{gutter:[0,0],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Typography.Text,{className:"caption",type:"secondary",children:"Amount"})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(_,{placeholder:"0",value:p,size:"small",bordered:!1})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Button,{type:"primary",icon:(0,c.jsx)(d,{name:"remove"}),onClick:async()=>{h(!0);const{splt:r,wallet:n}=window.sentre,{mint_stake:a}=s;if(!n||!f.account.isAddress(a))return;const o=await r.deriveAssociatedAddress(l,Ye),i=await r.deriveAssociatedAddress(l,a);try{const{txId:s}=await Ge.rid(i,o,e,n);return t(!1),z("Exit",s)}catch(c){return I(c)}finally{h(!1)}},block:!0,disabled:!p,loading:u,children:"Exit"})})]})},Ze=e=>{const t=(0,r.useSelector)((t=>t.farms[e])),{data:s}=H(e),[n,a]=(0,i.useState)(0),o=(0,i.useCallback)((()=>{if(!s||!t)return a(0);const e=Y(s,t)||0;return a(e)}),[s,t]);return(0,i.useEffect)((()=>{o()}),[o]),n},Xe=e=>{const{farms:{[e]:t}}=(0,r.useSelector)((e=>e)),{getTotalValue:s}=T(),[n,a]=(0,i.useState)(0),o=(0,i.useCallback)((async()=>{if(!t)return a(0);const{total_shares:e,mint_stake:r}=t,n=await s({mintAddress:r,amount:e});return a(n)}),[t,s]);return(0,i.useEffect)((()=>{o()}),[o]),n},Ke=e=>{const t=(0,r.useSelector)((t=>t.farms[e])),s=Xe(e),{getTotalValue:n}=T(),[a,o]=(0,i.useState)(0),l=(0,i.useCallback)((async()=>{if(!s)return o(0);const{mint_reward:e,reward:r,period:a}=t,i=r*BigInt(86400)/a,l=await n({mintAddress:e,amount:i});return o(l/s)}),[t,n,s]);return(0,i.useEffect)((()=>{l()}),[l]),{roi:a,apr:365*a}},{sol:{senAddress:et,farming:tt}}=x,st="The budget of reward is very low. Please unstake your tokens for safety.",rt=({farmAddress:e})=>{const t=(0,r.useSelector)((t=>{var s;return null===(s=t.farms)||void 0===s?void 0:s[e]})),{data:s}=H(e),l=Ze(e),u=(e=>{const[t,s]=(0,i.useState)(),{farms:{[e]:a}}=(0,r.useSelector)((e=>e)),{pools:o}=(0,n.usePool)(),l=(0,i.useCallback)((async()=>{const e=null===a||void 0===a?void 0:a.mint_stake;if(!e)return s(void 0);const t=Object.keys(o).find((t=>{const{mint_lpt:s}=o[t];return s===e}));if(!f.account.isAddress(t))return s(void 0);const r=o[t];return s({address:t,data:r})}),[null===a||void 0===a?void 0:a.mint_stake,o]);return(0,i.useEffect)((()=>{l()}),[l]),t})(e),h=Xe(e),{apr:p}=Ke(e),{ui:{width:m}}=(0,n.useUI)(),{wallet:{address:y}}=(0,n.useWallet)(),x=(0,a.useHistory)(),[g,b]=(0,i.useState)(),[v,C]=(0,i.useState)(!1),[T,k]=(0,i.useState)(!1),[A,R]=(0,i.useState)(!1),[E,O]=(0,i.useState)(""),{owner:P,state:_,reward:B}=t||{},M=P===y,N=(0,r.useSelector)((e=>e.main.search)),D=_===We.isFreeze,L=F(null===t||void 0===t?void 0:t.mint_stake),W=F(null===t||void 0===t?void 0:t.mint_stake),{budget:V}=ze(e),$=(0,i.useMemo)((()=>0!==W&&W?Number(f.utils.undecimalize(B,W)):0),[W,B]),Q=()=>b(g?void 0:e);(0,i.useEffect)((()=>{N&&N===e&&b(N)}),[V,e,$,N]),(0,i.useEffect)((()=>O($?V<3*$?st:"":st)),[V,$]);const q=()=>(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Space,{size:4,children:[(0,c.jsx)(o.Typography.Title,{style:{color:"#fff"},level:5,children:"APR"}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"(Annual Percentage Rate)"})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Typography.Text,{style:{color:"#E9E9EB"},children:"Refers to the simple interest accured from a particular inverstment over a 1 year period."})})]});let Y="0";s&&L&&(Y=f.utils.undecimalize(s.shares,L));const G=m>768?g?"chevron-down-outline":"chevron-forward-outline":g?"chevron-up-outline":"chevron-down-outline",J=D?{opacity:.6}:{};return(0,c.jsxs)(o.Row,{style:{...J},children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Card,{bordered:!1,className:"farming-card",bodyStyle:{padding:16},style:{boxShadow:"unset",borderRadius:8,position:"relative",zIndex:1},hoverable:!0,onClick:Q,children:(0,c.jsxs)(o.Row,{gutter:[16,16],justify:"center",align:"middle",children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Row,{gutter:[16,16],align:"middle",children:[(0,c.jsx)(o.Col,{xs:24,md:5,children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(w,{mintAddress:null===t||void 0===t?void 0:t.mint_stake,size:24}),(0,c.jsx)(S,{mintAddress:null===t||void 0===t?void 0:t.mint_stake}),(0,c.jsx)(o.Button,{type:"text",shape:"circle",size:"small",icon:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:(0,c.jsx)(d,{name:"information-circle-outline"})}),onClick:e=>{e.stopPropagation(),k(!0)}})]})}),(0,c.jsx)(o.Col,{xs:12,md:4,children:(0,c.jsx)(U,{label:"APR",tooltip:(0,c.jsx)(q,{}),value:(0,j.uR)(p).format("0,0.[00]a%")})}),(0,c.jsx)(o.Col,{xs:12,md:5,children:(0,c.jsx)(U,{label:"Liquidity",value:(0,j.uR)(h).format("0,0.00[00]a$")})}),(0,c.jsx)(o.Col,{xs:12,md:5,children:(0,c.jsx)(U,{label:"Your staked LPT",value:(0,j.uR)(Y).format("0,0.00[00]")})}),(0,c.jsx)(o.Col,{xs:12,md:5,children:(0,c.jsx)(U,{mintAddress:null===t||void 0===t?void 0:t.mint_reward,label:"Reward",value:(0,j.uR)(l).format("0,0.00[00]")})})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{children:[D&&(0,c.jsx)(d,{name:"snow-outline"}),E&&(0,c.jsx)(o.Tooltip,{title:st,children:(0,c.jsx)(d,{name:"warning-outline",style:{color:"#f9575e"}})}),(0,c.jsx)(o.Button,{type:"text",icon:(0,c.jsx)(d,{name:G}),disabled:!M&&D,onClick:Q})]})})]})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Collapse,{activeKey:g,className:"expand-farm-card",children:(0,c.jsx)(o.Collapse.Panel,{header:null,showArrow:!1,children:(0,c.jsxs)(o.Row,{gutter:[16,16],children:[(0,c.jsx)(o.Col,{xs:{order:2},md:{order:1},flex:"auto",children:u&&(0,c.jsxs)(o.Button,{type:"text",style:{padding:0,background:"transparent"},onClick:()=>{x.push(`/app/sen_lp?poolAddress=${u.address}`)},children:["To the pool",(0,c.jsx)(d,{name:"chevron-forward-outline"})]})}),(0,c.jsx)(o.Col,{xs:{order:1},md:{order:2},children:(0,c.jsxs)(o.Space,{children:[M&&(0,c.jsx)(qe,{farmAddress:e}),(0,c.jsx)(o.Button,{onClick:()=>C(!0),disabled:D,children:"Stake / Unstake"}),(0,c.jsx)(o.Button,{type:"primary",loading:A,onClick:async()=>{R(!0);const{splt:t,wallet:s}=window.sentre,r=await t.deriveAssociatedAddress(y,et);try{if(!s)throw new Error("please connect wallet first!");const t=new we;await t.validate(e);const{txId:n}=await tt.harvest(e,r,s);return z("Harvest",n)}catch(n){return I(n)}finally{R(!1)}},disabled:D||0===l,children:"Harvest"})]})})]})},e)})}),(0,c.jsx)(o.Modal,{onCancel:()=>C(!1),closeIcon:(0,c.jsx)(d,{name:"close"}),footer:null,title:null,visible:v,children:(0,c.jsxs)(o.Tabs,{children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Stake",children:(0,c.jsx)(Re,{farmAddress:e,onClose:C})},"stake"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Unstake",children:(0,c.jsx)(Te,{farmAddress:e,onClose:C})},"unstake"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Exit",children:(0,c.jsx)(Je,{farmAddress:e,onClose:C})},"exit")]})}),(0,c.jsx)(o.Modal,{visible:T,onCancel:()=>k(!1),closeIcon:(0,c.jsx)(d,{name:"close"}),title:"Farm Info",footer:null,destroyOnClose:!0,centered:!0,children:(0,c.jsx)(Ie,{farmAddress:e})})]})},nt=e=>{const{tokenProvider:t}=(0,n.useMint)(),{sentreFarms:s}=A(),{pools:a}=(0,n.usePool)(),{search:o}=(0,r.useSelector)((e=>e.main)),[l,c]=(0,i.useState)({}),d=(0,i.useCallback)((e=>Object.keys(a).find((t=>a[t].mint_lpt===e))),[a]),u=(0,i.useCallback)((async()=>{const r={},n=(await t.find(o)).map((e=>e.address));Object.keys(e).filter((t=>{if(!o||!a||!e||o.length<3)return!0;const s=e[t],{mint_stake:r}=s,i=d(r);if(i){if(i===o)return!0;const{mint_a:e,mint_b:t}=a[i];if(n.includes(e)||n.includes(t))return!0}return t===o||(n.includes(r)||r===o)})).sort(((t,r)=>!s[t]&&s[r]?1:s[t]&&!s[r]?-1:e[t].total_shares<e[r].total_shares?1:-1)).map((t=>r[t]=e[t])),await c(r)}),[e,d,o,a,s,t]);return(0,i.useEffect)((()=>{u().then((()=>{setTimeout((()=>{(0,O.be)()}),500)}))}),[u]),l},at=()=>{const{farms:e}=(0,r.useSelector)((e=>e)),t=nt(e),s=(0,i.useMemo)((()=>Object.keys(t)),[t]);return s.length?(0,c.jsx)(o.Row,{gutter:[16,16],children:s.map((e=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:84,children:(0,c.jsx)(rt,{farmAddress:e})})},e)))}):(0,c.jsx)(o.Empty,{})},{sol:{senOwners:ot}}=x,it=()=>{const{sentreFarms:e}=A(),t=nt(e),s=(0,i.useMemo)((()=>Object.keys(t)),[t]),r=(0,i.useMemo)((()=>s.filter((e=>ot.includes(t[e].owner)))),[t,s]),n=(0,i.useMemo)((()=>r.sort(((e,s)=>t[e].total_shares<t[s].total_shares?1:-1))),[t,r]);return 0===n.length?(0,c.jsx)(o.Empty,{}):(0,c.jsx)(o.Row,{gutter:[16,16],children:n.map(((e,t)=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:84,children:(0,c.jsx)(rt,{farmAddress:e})})},e+t)))})},{sol:{farming:lt}}=x,ct=()=>{const[e,t]=(0,i.useState)({}),{farms:s,debts:a}=(0,r.useSelector)((e=>e)),{wallet:{address:o}}=(0,n.useWallet)(),l=(0,i.useCallback)((async e=>{const t=await lt.deriveDebtAddress(o,e),s=a[t];return(null===s||void 0===s?void 0:s.shares)>BigInt(0)}),[a,o]),c=(0,i.useCallback)((async e=>{const s={};for(const t in e){await l(t)&&(s[t]=e[t])}t(s)}),[l]);return(0,i.useEffect)((()=>{c(s)}),[s,c]),{stakedFarms:e,filterStakedFarms:c,checkStakedFarm:l}},dt=()=>{const{stakedFarms:e}=ct(),t=nt(e);return 0===Object.keys(t).length?(0,c.jsx)(o.Empty,{}):(0,c.jsx)(o.Row,{gutter:[16,16],children:Object.keys(t).map((e=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:84,children:(0,c.jsx)(rt,{farmAddress:e})})},e)))})},ut=()=>{const[e,t]=(0,i.useState)({}),s=(0,r.useSelector)((e=>e.farms)),{wallet:{address:a}}=(0,n.useWallet)(),o=(0,i.useCallback)((e=>s[e].owner===a),[s,a]),l=(0,i.useCallback)((e=>{const s={};for(const t in e)o(t)&&(s[t]=e[t]);t(s)}),[o]);return(0,i.useEffect)((()=>{l(s)}),[s,l]),{yourFarms:e,filterYourFarms:l,checkYourFarm:o}},ht=()=>{const{yourFarms:e}=ut(),t=nt(e);return Object.keys(t).length?(0,c.jsx)(o.Row,{gutter:[16,16],children:Object.keys(t).map((e=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:84,children:(0,c.jsx)(rt,{farmAddress:e})})},e)))}):(0,c.jsx)(o.Empty,{})};var pt;!function(e){e.YourFarms="YourFarms",e.SenFarm="SenFarm",e.StakedFarm="StakedFarm",e.AllFarms="AllFarms"}(pt||(pt={}));const ft=()=>{const e=(0,a.useLocation)().search,t=(0,r.useSelector)((e=>e.main.search)),{checkStakedFarm:s}=ct(),{checkYourFarm:n}=ut(),{checkSentreFarm:l}=A(),d=(0,r.useDispatch)(),[u,h]=(0,i.useState)(pt.SenFarm),[p,m]=(0,i.useState)(!1);(0,i.useEffect)((()=>{(async()=>{if(f.account.isAddress(t)&&!p)try{if(n(t))return h(pt.YourFarms);if(l(t))return h(pt.SenFarm);const e=await s(t);h(e?pt.StakedFarm:pt.AllFarms)}catch(e){}finally{m(!0)}})()}),[l,s,n,t,p]),(0,i.useEffect)((()=>{const t=new URLSearchParams(e).get("search");if(t)return d(je({search:t})),h(pt.AllFarms),()=>{d(je({search:""}))}}),[d,e]);return(0,c.jsxs)(o.Tabs,{activeKey:u,onChange:e=>{h(e),setTimeout((()=>{(0,O.be)()}),500)},tabBarExtraContent:(0,c.jsx)(W,{}),children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Sentre Farms",children:(0,c.jsx)(it,{})},pt.SenFarm),(0,c.jsx)(o.Tabs.TabPane,{tab:"Staked Farms",children:(0,c.jsx)(dt,{})},pt.StakedFarm),(0,c.jsx)(o.Tabs.TabPane,{tab:"Your Farms",children:(0,c.jsx)(ht,{})},pt.YourFarms),(0,c.jsx)(o.Tabs.TabPane,{tab:"All Farms",children:(0,c.jsx)(at,{})},pt.AllFarms)]})},{sol:{farming:mt}}=x;let yt=0,xt=BigInt(0);const jt=({children:e})=>{const t=(0,r.useDispatch)(),{wallet:{address:s,lamports:a}}=(0,n.useWallet)(),o=(0,i.useCallback)((async()=>{try{if(!f.account.isAddress(s))return;await t(he({owner:s})).unwrap()}catch(e){await I(e)}}),[t,s]),l=(0,i.useCallback)((async()=>{if(!f.account.isAddress(s))return console.warn("Wallet is not connected");if(yt)return console.warn("Already watched");const e=[{dataSize:89},{memcmp:{bytes:s,offset:32}}];yt=mt.watch(((e,s)=>{if(e)return console.error(e);const{type:r,address:n,data:a}=s;return"debt"===r?t(fe({address:n,data:a})):void 0}),e)}),[t,s]);return(0,i.useEffect)((()=>{xt&&a>xt&&t(he({owner:s})),xt=a}),[t,s,a]),(0,i.useEffect)((()=>(o(),l(),()=>{(async()=>{try{await mt.unwatch(yt)}catch(e){}})(),yt=0})),[o,l]),e},{sol:{farming:gt,senAddress:bt}}=x;let vt=0;const wt=({children:e,style:t={}})=>{const s=(0,r.useDispatch)(),[n,a]=(0,i.useState)(!1),l=(0,i.useCallback)((async()=>{try{a(!0),await s(ae())}catch(e){await I(e)}finally{a(!1)}}),[s]),d=(0,i.useCallback)((async()=>{if(vt)return console.warn("Already watched");const e=[{dataSize:209},{memcmp:{bytes:bt,offset:97}}];vt=gt.watch(((e,t)=>{if(e)return console.error(e);const{type:r,address:n,data:a}=t;return"farm"===r?s(ie({address:n,data:a})):void 0}),e)}),[s]);return(0,i.useEffect)((()=>(l(),d(),()=>{(async()=>{try{gt.unwatch(vt)}catch(e){}})(),vt=0})),[l,d]),(0,c.jsx)(o.Spin,{spinning:n,style:t,children:e})},Ct=({children:e,style:t})=>(0,c.jsx)(wt,{style:t,children:(0,c.jsx)(jt,{children:e})}),{route:{farmRoute:St}}=x,Tt=()=>{const{search:e,pathname:t}=(0,a.useLocation)(),{search:s}=(0,r.useSelector)((e=>e.main)),n=(0,r.useDispatch)(),i=(0,a.useHistory)();return(0,c.jsx)(Ct,{children:(0,c.jsxs)(o.Row,{gutter:[24,24],style:{paddingBottom:12},justify:"center",children:[(0,c.jsx)(o.Col,{xs:24,lg:18,children:(0,c.jsx)(E,{})}),(0,c.jsx)(o.Col,{xs:24,lg:18,children:(0,c.jsxs)(o.Row,{gutter:[8,8],children:[(0,c.jsx)(o.Col,{xs:24,lg:8,children:(0,c.jsx)(o.Card,{bodyStyle:{padding:0},style:{borderRadius:8,background:"transparent",boxShadow:"unset"},children:(0,c.jsx)(o.Input,{placeholder:"Search by name, address",value:s,onChange:s=>(new URLSearchParams(e).get("search")&&i.push(t),n(je({search:s.target.value}))),prefix:s?(0,c.jsx)(o.Button,{type:"text",style:{width:"auto",height:"auto",background:"transparent"},onClick:()=>(n(je({search:""})),i.push(St)),icon:(0,c.jsx)(d,{name:"close-outline"})}):(0,c.jsx)(d,{name:"search-outline"}),bordered:!1,size:"large"})})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(ft,{})})]})})]})})},kt=({isHidden:e})=>{const{search:t}=(0,r.useSelector)((e=>e.main)),s=(0,r.useDispatch)();return(0,c.jsx)(o.Card,{className:e?"hidden-class":"",bodyStyle:{padding:8},bordered:!1,children:(0,c.jsx)(o.Input,{value:t,onChange:e=>s(je({search:e.target.value})),placeholder:"Search",size:"small",bordered:!1,prefix:(0,c.jsx)(o.Button,{type:"text",style:{marginLeft:-7},size:"small",icon:(0,c.jsx)(d,{name:"search-outline"})})})})},{manifest:{appId:At}}=x,Rt=({farmAddress:e})=>{const t=Ze(e),s=(0,r.useSelector)((t=>t.farms[e])),n=(0,a.useHistory)(),{data:l}=H(e),{apr:u}=Ke(e),h=(0,r.useDispatch)(),p=F(s.mint_stake),m=(0,i.useCallback)((()=>{n.push(`/app/${At}`),h(je({search:e}))}),[h,e,n]);let y="0";return l&&p&&(y=f.utils.undecimalize(l.shares,p)),(0,c.jsx)(o.Card,{bordered:!1,className:"farm-card-widget",children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{align:"middle",gutter:[12,12],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(w,{mintAddress:s.mint_stake}),(0,c.jsx)(S,{mintAddress:s.mint_stake})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Button,{onClick:m,type:"text",icon:(0,c.jsx)(d,{name:"open-outline"})})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(o.Divider,{style:{margin:"12px 0"}})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{gutter:[6,6],children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(w,{mintAddress:s.mint_reward}),(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Reward"})]})}),(0,c.jsx)(o.Col,{children:(0,c.jsxs)(o.Space,{children:[(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(t).format("0,0.00[00]")}),(0,c.jsx)(S,{mintAddress:s.mint_reward})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"APR"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Space,{children:(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(u).format("0,0.[00]%")})})})]})}),(0,c.jsx)(o.Col,{span:24,children:(0,c.jsxs)(o.Row,{children:[(0,c.jsx)(o.Col,{flex:"auto",children:(0,c.jsx)(o.Typography.Text,{type:"secondary",children:"Your staked LPT"})}),(0,c.jsx)(o.Col,{children:(0,c.jsx)(o.Space,{children:(0,c.jsx)(o.Typography.Text,{children:(0,j.uR)(y).format("0,0.00[00]")})})})]})})]})})]})})},Et=()=>{const{stakedFarms:e}=ct(),t=nt(e);return 0===Object.keys(t).length?(0,c.jsx)(o.Empty,{}):(0,c.jsxs)(o.Row,{gutter:[12,12],children:[Object.keys(t).map((e=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:185,overflow:!0,children:(0,c.jsx)(Rt,{farmAddress:e})})},e))),(0,c.jsx)(o.Col,{})]})},Ot=()=>{const{yourFarms:e}=ut(),t=nt(e);return Object.keys(t).length?(0,c.jsxs)(o.Row,{gutter:[16,16],children:[Object.keys(t).map((e=>(0,c.jsx)(o.Col,{span:24,children:(0,c.jsx)(O.ZP,{height:84,children:(0,c.jsx)(Rt,{farmAddress:e})})},e))),(0,c.jsx)(o.Col,{})]}):(0,c.jsx)(o.Empty,{})},Pt=()=>{const[e,t]=(0,i.useState)(!1),s=(0,r.useDispatch)(),{search:n}=(0,r.useSelector)((e=>e.main));return(0,i.useEffect)((()=>{n&&t(!0)}),[n]),(0,c.jsxs)(i.Fragment,{children:[(0,c.jsx)(o.Button,{className:"button-search",type:"text",icon:(0,c.jsx)(d,{name:e?"close-outline":"search-outline"}),onClick:()=>{e&&s(je({search:""})),t(!e)}}),(0,c.jsx)(kt,{isHidden:!n&&!e}),(0,c.jsx)(Ct,{style:{height:336},children:(0,c.jsxs)(o.Tabs,{className:e?"hidden-tab":"",onChange:()=>setTimeout((()=>{(0,O.be)()}),300),children:[(0,c.jsx)(o.Tabs.TabPane,{tab:"Staked farms",children:(0,c.jsx)(Et,{})},"staked-farm"),(0,c.jsx)(o.Tabs.TabPane,{tab:"Your farms",children:(0,c.jsx)(Ot,{})},"your-farm")]})})]})},{manifest:{appId:_t}}=x,zt=()=>(0,c.jsx)(n.UIProvider,{appId:_t,antd:!0,children:(0,c.jsx)(n.PoolProvider,{children:(0,c.jsx)(n.MintProvider,{children:(0,c.jsx)(n.AccountProvider,{children:(0,c.jsx)(n.WalletProvider,{children:(0,c.jsx)(r.Provider,{store:be,children:(0,c.jsx)(Tt,{})})})})})})}),It={size:"small",type:"solid"},Ft=()=>(0,c.jsx)(n.UIProvider,{appId:_t,antd:!0,children:(0,c.jsx)(n.PoolProvider,{children:(0,c.jsx)(n.MintProvider,{children:(0,c.jsx)(n.AccountProvider,{children:(0,c.jsx)(n.WalletProvider,{children:(0,c.jsx)(r.Provider,{store:be,children:(0,c.jsx)(Pt,{})})})})})})})},57452:(e,t,s)=>{"use strict";s.d(t,{R:()=>i});const r={ttl:3e4},n={limit:{calls:10,time:1e3},cache:r};class a{constructor(e){this.key="",this.resolveQueue=[],this.rejectQueue=[],this.key=e}add(e,t){this.resolveQueue.push(e),this.rejectQueue.push(t)}resolves(e){for(;this.resolveQueue.length>0;){this.resolveQueue.shift()(e)}}rejects(e){for(;this.rejectQueue.length>0;){this.rejectQueue.shift()(e)}}}class o{static set(e,t,s=r){this.mapCache.set(e,t),setTimeout((()=>{this.mapCache.delete(e)}),s.ttl)}static get(e){return this.mapCache.get(e)}}o.mapCache=new Map;class i{static getSingleFlight(e){const t=JSON.stringify(e);if(this.mapInstance.has(t)){const e=this.mapInstance.get(t);if(e)return e}let s=new l(e);return this.mapInstance.set(t,s),s}static async load(e,t,s={}){"object"===typeof e&&(e=JSON.stringify(e));let r=i.getSingleFlight(s);i.mapInstance.set(e,r);const n=new a(e);return r.load(n,t)}}i.mapInstance=new Map;class l{constructor(e){this.config=void 0,this.intervalRequest=void 0,this.timeLogs=[],this.mapRequestCalling=new Map,this.requestQueue=[],this.config=Object.assign(n,e)}async load(e,t){const s=o.get(e.key);if(s)return Promise.resolve(s);let r=!1,n=this.mapRequestCalling.get(e.key);return n||(n=e,r=!0,this.mapRequestCalling.set(n.key,n)),new Promise(((e,s)=>{if(!n)return s("Not found request!");n.add(e,s),r&&this.fetch(n,t)}))}fetch(e,t){if(!this.validateLimit())return this.addRequestQueue(e,t);this.createTimeLogs(),t().then((t=>{o.set(e.key,t,this.config.cache),e.resolves(t)})).catch((t=>{e.rejects(t)})).finally((()=>{this.mapRequestCalling.delete(e.key),this.fetchRequestQueue(t)}))}fetchRequestQueue(e){if(!this.validateLimit())return;const t=this.requestQueue.shift();t&&this.load(t,e),0===this.requestQueue.length&&this.intervalRequest&&clearInterval(this.intervalRequest)}addRequestQueue(e,t){var s;this.requestQueue.push(e),this.intervalRequest=setInterval((()=>{this.fetchRequestQueue(t)}),null===(s=this.config.limit)||void 0===s?void 0:s.time)}validateLimit(){return!0}createTimeLogs(){var e;if(!this.config.limit)return;const t=(new Date).getTime();this.timeLogs.push(t),this.timeLogs.length>(null===(e=this.config.limit)||void 0===e?void 0:e.calls)&&this.timeLogs.shift()}}},85912:(e,t,s)=>{"use strict";s.d(t,{$:()=>r,h:()=>n});const r=e=>!1;BigInt.prototype.toJSON=function(){return this.toString()};const n={serializableCheck:{isSerializable:e=>"undefined"===typeof e||null===e||"string"===typeof e||"boolean"===typeof e||"number"===typeof e||Array.isArray(e)||(e=>{if(null===e)return!1;const t=Object.getPrototypeOf(e);return null!==t&&null===Object.getPrototypeOf(t)})(e)||"bigint"===typeof e}}},63805:(e,t,s)=>{"use strict";s.d(t,{OB:()=>n,ef:()=>a});var r=s(53933);const n="production",a=(()=>{switch(r.Z.get("network")){case"devnet":return"devnet";case"testnet":return"testnet";default:return"mainnet"}})()},53933:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});const r="sentre",n=window.localStorage,a=e=>{try{return e?JSON.parse(e):null}catch(t){return null}},o={set:(e,t)=>{let s=a(n.getItem(r));s&&"object"===typeof s||(s={}),s[e]=t,n.setItem(r,JSON.stringify(s))},get:e=>{let t=a(n.getItem(r));return t&&"object"===typeof t?t[e]:null},clear:e=>{o.set(e,null)}},i=o},34559:(e,t,s)=>{"use strict";s.d(t,{RB:()=>l,sA:()=>c,Xn:()=>d,kU:()=>u,uR:()=>h,l$:()=>p});var r=s(95418),n=s(16200),a=s.n(n),o=s(63805),i=s(57452);const l=e=>window.open(e,"_blank"),c=e=>new Promise((t=>setTimeout(t,e))),d=(e,t=4,s="...")=>e.substring(0,t)+s+e.substring(e.length-t,e.length),u=e=>r.account.isAddress(e)?`https://explorer.solana.com/address/${e}?cluster=${o.ef}`:`https://explorer.solana.com/tx/${e}?cluster=${o.ef}`,h=e=>e?a()(e):a()("0"),p=async(e="")=>i.R.load("fetchCGK"+e,(()=>r.utils.parseCGK(e)))},44891:(e,t,s)=>{"use strict";t.be=void 0;var r=function(){function e(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,s,r){return s&&e(t.prototype,s),r&&e(t,r),t}}(),n=s(92950),a=u(n),o=u(s(43091)),i=s(8227),l=u(s(75217)),c=u(s(59214)),d=u(s(25361));function u(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function p(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function f(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var m=0,y=0,x=0,j=0,g="data-lazyload-listened",b=[],v=[],w=!1;try{var C=Object.defineProperty({},"passive",{get:function(){w=!0}});window.addEventListener("test",null,C)}catch(_){}var S=!!w&&{capture:!1,passive:!0},T=function(e){var t=e.ref;if(t instanceof HTMLElement){var s=(0,l.default)(t),r=e.props.overflow&&s!==t.ownerDocument&&s!==document&&s!==document.documentElement?function(e,t){var s=e.ref,r=void 0,n=void 0,a=void 0,o=void 0;try{var i=t.getBoundingClientRect();r=i.top,n=i.left,a=i.height,o=i.width}catch(_){r=m,n=y,a=j,o=x}var l=window.innerHeight||document.documentElement.clientHeight,c=window.innerWidth||document.documentElement.clientWidth,d=Math.max(r,0),u=Math.max(n,0),h=Math.min(l,r+a)-d,p=Math.min(c,n+o)-u,f=void 0,g=void 0,b=void 0,v=void 0;try{var w=s.getBoundingClientRect();f=w.top,g=w.left,b=w.height,v=w.width}catch(_){f=m,g=y,b=j,v=x}var C=f-d,S=g-u,T=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return C-T[0]<=h&&C+b+T[1]>=0&&S-T[0]<=p&&S+v+T[1]>=0}(e,s):function(e){var t=e.ref;if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;var s=void 0,r=void 0;try{var n=t.getBoundingClientRect();s=n.top,r=n.height}catch(_){s=m,r=j}var a=window.innerHeight||document.documentElement.clientHeight,o=Array.isArray(e.props.offset)?e.props.offset:[e.props.offset,e.props.offset];return s-o[0]<=a&&s+r+o[1]>=0}(e);r?e.visible||(e.props.once&&v.push(e),e.visible=!0,e.forceUpdate()):e.props.once&&e.visible||(e.visible=!1,e.props.unmountIfInvisible&&e.forceUpdate())}},k=function(){v.forEach((function(e){var t=b.indexOf(e);-1!==t&&b.splice(t,1)})),v=[]},A=function(){for(var e=0;e<b.length;++e){var t=b[e];T(t)}k()},R=void 0,E=null,O=function(e){function t(e){h(this,t);var s=p(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return s.visible=!1,s.setRef=s.setRef.bind(s),s}return f(t,e),r(t,[{key:"componentDidMount",value:function(){var e=window,t=this.props.scrollContainer;t&&"string"===typeof t&&(e=e.document.querySelector(t));var s=void 0!==this.props.debounce&&"throttle"===R||"debounce"===R&&void 0===this.props.debounce;if(s&&((0,i.off)(e,"scroll",E,S),(0,i.off)(window,"resize",E,S),E=null),E||(void 0!==this.props.debounce?(E=(0,c.default)(A,"number"===typeof this.props.debounce?this.props.debounce:300),R="debounce"):void 0!==this.props.throttle?(E=(0,d.default)(A,"number"===typeof this.props.throttle?this.props.throttle:300),R="throttle"):E=A),this.props.overflow){var r=(0,l.default)(this.ref);if(r&&"function"===typeof r.getAttribute){var n=+r.getAttribute(g)+1;1===n&&r.addEventListener("scroll",E,S),r.setAttribute(g,n)}}else if(0===b.length||s){var a=this.props,o=a.scroll,u=a.resize;o&&(0,i.on)(e,"scroll",E,S),u&&(0,i.on)(window,"resize",E,S)}b.push(this),T(this)}},{key:"shouldComponentUpdate",value:function(){return this.visible}},{key:"componentWillUnmount",value:function(){if(this.props.overflow){var e=(0,l.default)(this.ref);if(e&&"function"===typeof e.getAttribute){var t=+e.getAttribute(g)-1;0===t?(e.removeEventListener("scroll",E,S),e.removeAttribute(g)):e.setAttribute(g,t)}}var s=b.indexOf(this);-1!==s&&b.splice(s,1),0===b.length&&"undefined"!==typeof window&&((0,i.off)(window,"resize",E,S),(0,i.off)(window,"scroll",E,S))}},{key:"setRef",value:function(e){e&&(this.ref=e)}},{key:"render",value:function(){var e=this.props,t=e.height,s=e.children,r=e.placeholder,n=e.className,o=e.classNamePrefix,i=e.style;return a.default.createElement("div",{className:o+"-wrapper "+n,ref:this.setRef,style:i},this.visible?s:r||a.default.createElement("div",{style:{height:t},className:o+"-placeholder"}))}}]),t}(n.Component);O.propTypes={className:o.default.string,classNamePrefix:o.default.string,once:o.default.bool,height:o.default.oneOfType([o.default.number,o.default.string]),offset:o.default.oneOfType([o.default.number,o.default.arrayOf(o.default.number)]),overflow:o.default.bool,resize:o.default.bool,scroll:o.default.bool,children:o.default.node,throttle:o.default.oneOfType([o.default.number,o.default.bool]),debounce:o.default.oneOfType([o.default.number,o.default.bool]),placeholder:o.default.node,scrollContainer:o.default.oneOfType([o.default.string,o.default.object]),unmountIfInvisible:o.default.bool,style:o.default.object},O.defaultProps={className:"",classNamePrefix:"lazyload",once:!1,offset:0,overflow:!1,resize:!1,scroll:!0,unmountIfInvisible:!1};var P=function(e){return e.displayName||e.name||"Component"};t.ZP=O,t.be=A},59214:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){var r=void 0,n=void 0,a=void 0,o=void 0,i=void 0,l=function l(){var c=+new Date-o;c<t&&c>=0?r=setTimeout(l,t-c):(r=null,s||(i=e.apply(a,n),r||(a=null,n=null)))};return function(){a=this,n=arguments,o=+new Date;var c=s&&!r;return r||(r=setTimeout(l,t)),c&&(i=e.apply(a,n),a=null,n=null),i}}},8227:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=function(e,t,s,r){r=r||!1,e.addEventListener?e.addEventListener(t,s,r):e.attachEvent&&e.attachEvent("on"+t,(function(t){s.call(e,t||window.event)}))},t.off=function(e,t,s,r){r=r||!1,e.removeEventListener?e.removeEventListener(t,s,r):e.detachEvent&&e.detachEvent("on"+t,s)}},75217:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(!(e instanceof HTMLElement))return document.documentElement;for(var t="absolute"===e.style.position,s=/(scroll|auto|overlay)/,r=e;r;){if(!r.parentNode)return e.ownerDocument||document.documentElement;var n=window.getComputedStyle(r),a=n.position,o=n.overflow,i=n["overflow-x"],l=n["overflow-y"];if("static"===a&&t)r=r.parentNode;else{if(s.test(o)&&s.test(i)&&s.test(l))return r;r=r.parentNode}}return e.ownerDocument||e.documentElement||document.documentElement}},25361:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,s){var r,n;return t||(t=250),function(){var a=s||this,o=+new Date,i=arguments;r&&o<r+t?(clearTimeout(n),n=setTimeout((function(){r=o,e.apply(a,i)}),t)):(r=o,e.apply(a,i))}}},29548:(e,t,s)=>{"use strict";var r=s(21533),n={"text/plain":"Text","text/html":"Url",default:"Text"};e.exports=function(e,t){var s,a,o,i,l,c,d=!1;t||(t={}),s=t.debug||!1;try{if(o=r(),i=document.createRange(),l=document.getSelection(),(c=document.createElement("span")).textContent=e,c.style.all="unset",c.style.position="fixed",c.style.top=0,c.style.clip="rect(0, 0, 0, 0)",c.style.whiteSpace="pre",c.style.webkitUserSelect="text",c.style.MozUserSelect="text",c.style.msUserSelect="text",c.style.userSelect="text",c.addEventListener("copy",(function(r){if(r.stopPropagation(),t.format)if(r.preventDefault(),"undefined"===typeof r.clipboardData){s&&console.warn("unable to use e.clipboardData"),s&&console.warn("trying IE specific stuff"),window.clipboardData.clearData();var a=n[t.format]||n.default;window.clipboardData.setData(a,e)}else r.clipboardData.clearData(),r.clipboardData.setData(t.format,e);t.onCopy&&(r.preventDefault(),t.onCopy(r.clipboardData))})),document.body.appendChild(c),i.selectNodeContents(c),l.addRange(i),!document.execCommand("copy"))throw new Error("copy command was unsuccessful");d=!0}catch(u){s&&console.error("unable to copy using execCommand: ",u),s&&console.warn("trying IE specific stuff");try{window.clipboardData.setData(t.format||"text",e),t.onCopy&&t.onCopy(window.clipboardData),d=!0}catch(u){s&&console.error("unable to copy using clipboardData: ",u),s&&console.error("falling back to prompt"),a=function(e){var t=(/mac os x/i.test(navigator.userAgent)?"\u2318":"Ctrl")+"+C";return e.replace(/#{\s*key\s*}/g,t)}("message"in t?t.message:"Copy to clipboard: #{key}, Enter"),window.prompt(a,e)}}finally{l&&("function"==typeof l.removeRange?l.removeRange(i):l.removeAllRanges()),c&&document.body.removeChild(c),o()}return d}},578:(e,t,s)=>{"use strict";var r=s(61250);function n(){}function a(){}a.resetWarningCache=n,e.exports=function(){function e(e,t,s,n,a,o){if(o!==r){var i=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw i.name="Invariant Violation",i}}function t(){return e}e.isRequired=e;var s={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:n};return s.PropTypes=s,s}},43091:(e,t,s)=>{e.exports=s(578)()},61250:e=>{"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},9517:(e,t,s)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CopyToClipboard=void 0;var r=a(s(92950)),n=a(s(29548));function a(e){return e&&e.__esModule?e:{default:e}}function o(e){return o="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"===typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function i(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,r)}return s}function l(e,t){if(null==e)return{};var s,r,n=function(e,t){if(null==e)return{};var s,r,n={},a=Object.keys(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)s=a[r],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var s=0;s<t.length;s++){var r=t[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t){return!t||"object"!==o(t)&&"function"!==typeof t?p(e):t}function h(e){return h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},h(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){return f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},f(e,t)}function m(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}var y=function(e){function t(){var e,s;c(this,t);for(var a=arguments.length,o=new Array(a),i=0;i<a;i++)o[i]=arguments[i];return m(p(s=u(this,(e=h(t)).call.apply(e,[this].concat(o)))),"onClick",(function(e){var t=s.props,a=t.text,o=t.onCopy,i=t.children,l=t.options,c=r.default.Children.only(i),d=(0,n.default)(a,l);o&&o(a,d),c&&c.props&&"function"===typeof c.props.onClick&&c.props.onClick(e)})),s}var s,a,o;return function(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(t,e),s=t,a=[{key:"render",value:function(){var e=this.props,t=(e.text,e.onCopy,e.options,e.children),s=l(e,["text","onCopy","options","children"]),n=r.default.Children.only(t);return r.default.cloneElement(n,function(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?i(s,!0).forEach((function(t){m(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):i(s).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}({},s,{onClick:this.onClick}))}}],a&&d(s.prototype,a),o&&d(s,o),t}(r.default.PureComponent);t.CopyToClipboard=y,m(y,"defaultProps",{onCopy:void 0,options:void 0})},51518:(e,t,s)=>{"use strict";var r=s(9517).CopyToClipboard;r.CopyToClipboard=r,e.exports=r},21111:e=>{var t="undefined"!==typeof Element,s="function"===typeof Map,r="function"===typeof Set,n="function"===typeof ArrayBuffer&&!!ArrayBuffer.isView;function a(e,o){if(e===o)return!0;if(e&&o&&"object"==typeof e&&"object"==typeof o){if(e.constructor!==o.constructor)return!1;var i,l,c,d;if(Array.isArray(e)){if((i=e.length)!=o.length)return!1;for(l=i;0!==l--;)if(!a(e[l],o[l]))return!1;return!0}if(s&&e instanceof Map&&o instanceof Map){if(e.size!==o.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;for(d=e.entries();!(l=d.next()).done;)if(!a(l.value[1],o.get(l.value[0])))return!1;return!0}if(r&&e instanceof Set&&o instanceof Set){if(e.size!==o.size)return!1;for(d=e.entries();!(l=d.next()).done;)if(!o.has(l.value[0]))return!1;return!0}if(n&&ArrayBuffer.isView(e)&&ArrayBuffer.isView(o)){if((i=e.length)!=o.length)return!1;for(l=i;0!==l--;)if(e[l]!==o[l])return!1;return!0}if(e.constructor===RegExp)return e.source===o.source&&e.flags===o.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===o.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===o.toString();if((i=(c=Object.keys(e)).length)!==Object.keys(o).length)return!1;for(l=i;0!==l--;)if(!Object.prototype.hasOwnProperty.call(o,c[l]))return!1;if(t&&e instanceof Element)return!1;for(l=i;0!==l--;)if(("_owner"!==c[l]&&"__v"!==c[l]&&"__o"!==c[l]||!e.$$typeof)&&!a(e[c[l]],o[c[l]]))return!1;return!0}return e!==e&&o!==o}e.exports=function(e,t){try{return a(e,t)}catch(s){if((s.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw s}}},21533:e=>{e.exports=function(){var e=document.getSelection();if(!e.rangeCount)return function(){};for(var t=document.activeElement,s=[],r=0;r<e.rangeCount;r++)s.push(e.getRangeAt(r));switch(t.tagName.toUpperCase()){case"INPUT":case"TEXTAREA":t.blur();break;default:t=null}return e.removeAllRanges(),function(){"Caret"===e.type&&e.removeAllRanges(),e.rangeCount||s.forEach((function(t){e.addRange(t)})),t&&t.focus()}}},46601:()=>{},89214:()=>{},85568:()=>{},52361:()=>{},94616:()=>{},55024:()=>{}}]);
//# sourceMappingURL=796.4097c5c5.chunk.js.map